Abeni 0.0.5


There are minor bugs and new features needed noted in the source code with #TODO. Mostly these are
message dialogs that need to be created for error and confirmation msgs.


Bugs:

    CRITICAL:

    Pango font errors with gtk2.
    Fix: USE='-gtk2' when compiling wxGTK and wxPython
    gtk2 is just plain terrible with wxPython as of version 2.4.1.2

    MISC:

    Get Stop button to cancel running commands in log window.

    Need to check if people have saved/changed ebuilds before loading/creating new one
       Only thing not checked is when a variable or statement changes.
       Make a copy of all variables and check against that? Feh.
       Catch the event when they enter a text control and check when leaving if changed?

    Need to create dictionary to keep better track of which pages in the notebook are funcs, environment etc.

    If opening ${PORTDIR} ebuild, copy files in ${FILESDIR} to PORTDIR_OVERLAY/${FILESDIR}

    COSMETIC:

    Shift-F5 to clear log

    Use ShowPosition(GetLastPosition()) to show end of log when switching to that page

    Watch to see if/when repoman gets patched for users so I can stop using
    my custom repoman-safe.py:
    http://bugs.gentoo.org/show_bug.cgi?id=23072
    http://forums.gentoo.org/viewtopic.php?t=59389

    Filter out escape codes for color/bold in repoman
    repoman has color hard-coded in. I'm using custom options.py called nulloptions.py
    Although I always set FEATURES='notitles', some escape codes are still sent in emerge:
     http://bugs.gentoo.org/show_bug.cgi?id=21430


    Editors (wxStyledTextCtrl) needs work on syntax and keyword highlighting.
        * Syntax highlighting is buggy for multi-line variables, see RDEPENDS/DEPENDS
        * UPDATE: Got rid of purple line but first and last variable's font are too small.

    Order of funtions is not kept when saving.
        * Save in logical order: src_unpack, src_compile, src_install etc.

    When you delete a notebook page, the control gets screwy looking.
        * This problem isn't resolved in wxPython 2.4.1.2. Bah.
        * Fixed, but very kludgy. I manually resize the entire app by one pixel horizontally.
        * Robin Dunn is stumped. Could be Gentoo specific due to site-wide gtkrc?


Add Features:

    After unpacking a file with a new ebuild, determine if its a kde, python,
    etc. package and add eclass and corresponding functions automatically.

    Add command line options:
        * As of 0.0.5 you can abeni <filename> to load an ebuild.
          Need to add these:

        * -c, --create <src_uri>            Create ebuild using src_uri to determine package and filename
        * -e, --eclass <eclass name>        Add inherit and appropriate functions for eclass, used with --created
        * -v, --variable <x=val, y=val...>  Add variable(s) and their value(s)
        * -f, --function <func1, func2...>  Add function name(s)
        * -h, --help                        Show list of command line options
        * -b, --bump                        Bump the given ebuild up one version
        * -d, --digest                      Create digest. Used with --bump
        * -t, --category <category>         Set package category
        * -l, --license <license>           Set LICENSE
        * -i, --iuse <iuse>                 Set IUSE
        * -t, --description <description>   Set DESCRIPTION
        * -a, --homepage <homepage>         Set HOMEPAGE
        * -k, --keywords <keywords>         Set KEYWORDS
        * -o, --slot <slot>                 Set SLOT
        * -s, --s <s>                       Set S
        * -p, --pretend                     Show which package would be used with --bump, and version numbers.

        Example One:
        We have a python program that uses 'python setup.py install':

        abeni --create 'http://abeni.sf.net/foo-0.1.tgz' --eclass 'distutils' --category 'app-admin' --digest

        This would create an ebuild named foo-0.1.ebuild in PORTDIR_OVERLAY/app-admin, fetch the source code and
        create the digest, creating a complete ebuild, ready to be emerged.

        Example Two:
        We have package app-admin/cheese with cheese-0.0.1.ebuild. cheese-0.0.2.tar.gz was released today. We
        simply want to create a bumped-up version of the ebuild:

        abeni --bump app-admin/cheese --pretend
        (Output shows:)
        cheese-0.0.1.ebuild will be bumped up to cheese-0.0.2.ebuild

        This is what we want so we issue:
        abeni --bump app-admin/cheese --digest

        cheese-0.0.2.ebuild is created in PORTDIR_OVERLAY/app-admin/cheese/
        The digest is updated. cheese-0.0.2.ebuild is ready to emerge.

    Create diff of ebuild
        * Need dialog to verify 'diff file-x file-y' or let them choose.
        * As of now it diffs current ebuild vs last loaded.

    Eclass templates for the most common secnarios:
        * KDE, Gnome etc.
        * Done: distutils, CVS eclasses
        * Show help dialog for more difficult, such as CVS

    Download, unpack and view Makefile/configure from source tarball
    Hmmm. Why not open by default when unpacking package?
    ** Run file browser in ${WORKDIR} and let them open files with editor?

Documentation:

    Tutorials:
        * Show how to make ebuild for:
            + Basic C - configure && make

            + Eclasses:
                - Python with distutils
                - KDE

    Explain about sudo usage

    Explain FEATURES defaults

    Convert online help to Gentoo documentation XML templates

    Show actual ebuilds in portage that are good examples for specific scenarios

    Link to Daniel Robbins Bash/ebuild tutorial
    	* http://www-106.ibm.com/developerworks/library/bash3.html

    Show which FEATURES are best for user-submitted ebuilds.

    FAQ:
    What is this I keep seeing?
    ]1;]2;xterm
    Bug in emerge:
    http://bugs.gentoo.org/show_bug.cgi?id=21430
